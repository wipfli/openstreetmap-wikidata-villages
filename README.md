# openstreetmap-villages-wikidata

Some municipalities in Switzerland do not have a `wikidata` tag in the OpenStreetMap database. Let's find them and make good suggestions by combining data from Wikidata and OpenStreetMap.

## Wikidata Query

Running:

```sparql
SELECT ?item ?itemLabel ?coord
WHERE
{
  ?item wdt:P31/wdt:P279* wd:Q70208;
        wdt:P17 wd:Q39;
        rdfs:label ?itemLabel;
        wdt:P625 ?coord;
  FILTER (lang(?itemLabel) = "de")
}
```

on https://query.wikidata.org/ creates `wikidata.csv`.

## OpenStreetMap Query

Running:

```
/*
This has been generated by the overpass-turbo wizard.
The original search was:
“place=village”
*/
[out:json][timeout:25];
// gather results
(
  // query part for: “place=village”
  node["place"="village"]({{bbox}});
);
// print results
out body;
>;
out skel qt;
```
on https://overpass-turbo.eu/ creates `overpass.json`.

## Python Matching
Running:
```
pip install geopy
python match.py
```
produces `output.csv`.

## Uploading to OpenStreetMap

Create `credentials.py` and populate it with your OpenStreetMap username and password:

```python
username = '<your-username>'
password = '<your-password>'
```

Upload with:

```
python osm-api.py
```
